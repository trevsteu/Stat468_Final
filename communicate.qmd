---
title: "Communicate"
author: "Trevor S"
---

## Setup

We install and load the necessary packages, along with functions from prior chapters.

```{r,  message = FALSE, warning = FALSE}
# renv::install(patchwork)
# renv::install(reactable)

library(patchwork)
library(reactable)

source("functions.R") # load functions defined in prior chapters
```

## Shiny Apps

As mentioned in the Model chapter, there are two shiny apps associated with this project. The first, linked [here](https://trevsteu.shinyapps.io/nls_model_app/), uses non-linear regression to make predictions based on the PS of future picks. If I was advising a team, this is the model I would suggest using. The second app, linked [here](https://trevsteu.shinyapps.io/logist_model_app/), uses logistic regression to make predictions based on the probability of future picks becoming NHL regulars. [**Disclaimer: adding probabilities in this manner is dubious at best from a statistical perspective,**]{.underline} but `vetiver` does not support `nls` objects as mentioned in the Model chapter, so I needed to use a model from `lm` or `glm`, in order to satisfy many of the the devops requirements for this app.

The apps differ only in the models they are based on (and their underlying code to access predictions). Thus the instructions for both apps are exactly the same, though the included screenshots are only for the app based on the model fit via non-linear regression.

3 team trades are incredibly rare in the NHL so they are not directly included in the app, though they could be analyzed by looking at what each team individually receives and gives up (ie look at it in terms of 3 two team trades).

## Summary of Results

We also present two other summaries of the results. First, we have a plot of the value of each pick, note that a `geom_point()` version of these exact plots are used in the shiny apps

```{r}
ggplot(pred_vals_nls, aes(x = overall, y = as.numeric(pts))) + 
  geom_line() + 
ggplot(pred_vals_logist, aes(x = overall, y = 1/(1+exp(-as.numeric(pts))))) + 
  geom_line()
```

We also provide a table of all predicted pick values based on the models.

```{r}
reactable(data.frame(cbind(pred_vals_nls, 
                           1/(1+exp(-pred_vals_logist[2])))))
```

## Note to Self

-   Read thru instructions to see if I'm missing anything

-   Give all plots titles and labels

-   Remove unnecessary library calls

-   Make sure everything flows logically

-   Make notation consistent

-   make sure links work, make sure links are in bibliography

-   Make code more efficient, add comments to it

-   Spell check

-   Add references to .bib file

-   remove unnecessary files from github (ie holding_file, model2, etc).
